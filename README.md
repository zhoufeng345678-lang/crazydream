# CrazyDream äººç”Ÿè®¡åˆ’æ¸…å•åç«¯æœåŠ¡

## é¡¹ç›®ç®€ä»‹

CrazyDream æ˜¯ä¸€ä¸ªä¸“ä¸ºä¸ªäººäººç”Ÿè§„åˆ’è®¾è®¡çš„åç«¯æœåŠ¡ç³»ç»Ÿï¼Œå¸®åŠ©ç”¨æˆ·æœ‰æ•ˆåœ°ç®¡ç†å’Œè¿½è¸ªäººç”Ÿç›®æ ‡ã€å­¦ä¹ è®¡åˆ’å’Œä¸ªäººæˆå°±ã€‚ç³»ç»Ÿæä¾›äº†å®Œæ•´çš„ç”¨æˆ·è®¤è¯ã€ç›®æ ‡ç®¡ç†ã€åˆ†ç±»ç®¡ç†ã€æˆå°±ç³»ç»Ÿå’Œæ•°æ®ç»Ÿè®¡åŠŸèƒ½ï¼Œæ”¯æŒç”¨æˆ·å°†å®å¤§çš„äººç”Ÿç›®æ ‡åˆ†è§£ä¸ºå¯æ‰§è¡Œçš„å°ç›®æ ‡ï¼Œå¹¶é€šè¿‡æŒç»­çš„è¿½è¸ªå’Œæ¿€åŠ±æœºåˆ¶å¸®åŠ©ç”¨æˆ·å®ç°æ¢¦æƒ³ã€‚

## æ ¸å¿ƒåŠŸèƒ½

### ç”¨æˆ·ç®¡ç†
- ç”¨æˆ·æ³¨å†Œä¸ç™»å½•
- ä¸ªäººä¿¡æ¯ç®¡ç†
- JWTèº«ä»½è®¤è¯ä¸æˆæƒ

### ç›®æ ‡ç®¡ç†
- åˆ›å»ºã€æŸ¥è¯¢ã€æ›´æ–°å’Œåˆ é™¤ç›®æ ‡
- ç›®æ ‡ä¼˜å…ˆçº§å’ŒçŠ¶æ€ç®¡ç†
- ç›®æ ‡èµ·æ­¢æ—¥æœŸè®¾ç½®
- ç›®æ ‡å›¾æ ‡è‡ªå®šä¹‰
- æ‰¹é‡æ“ä½œæ”¯æŒ

### å­ç›®æ ‡ç®¡ç†
- ä¸ºç›®æ ‡åˆ›å»ºå­ä»»åŠ¡
- å­ç›®æ ‡è¿›åº¦è¿½è¸ª
- å­ç›®æ ‡ä¼˜å…ˆçº§å’ŒçŠ¶æ€ç®¡ç†
- æˆªæ­¢æ—¥æœŸæé†’

### åˆ†ç±»ç®¡ç†
- ç›®æ ‡åˆ†ç±»åˆ›å»ºä¸ç®¡ç†
- åˆ†ç±»å›¾æ ‡å’Œåç§°è‡ªå®šä¹‰
- åˆ†ç±»æƒé™æ§åˆ¶

### æˆå°±ç³»ç»Ÿ
- æˆå°±è‡ªåŠ¨è§£é”æœºåˆ¶
- æˆå°±åˆ—è¡¨æŸ¥è¯¢
- æˆå°±æ¡ä»¶æ£€æŸ¥

### æ•°æ®ç»Ÿè®¡
- ç›®æ ‡å®Œæˆæƒ…å†µç»Ÿè®¡
- ä»ªè¡¨ç›˜æ•°æ®å±•ç¤º
- å¤šç»´åº¦æ•°æ®åˆ†æ

### æ–‡ä»¶ç®¡ç†
- å¤´åƒä¸Šä¼ 
- é˜¿é‡Œäº‘OSSé›†æˆ

## æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ

| æŠ€æœ¯/æ¡†æ¶ | ç‰ˆæœ¬ | ç”¨é€” |
|-----------|------|------|
| Java | 17 | å¼€å‘è¯­è¨€ |
| Spring Boot | 3.2.0 | åº”ç”¨æ¡†æ¶ |
| MyBatis | 3.0.3 | ORMæ¡†æ¶ |
| MySQL | 8.0+ | æ•°æ®åº“ |
| Spring Security | 6.0+ | å®‰å…¨æ¡†æ¶ |
| JWT | 0.12.3 | è®¤è¯ä»¤ç‰Œ |
| Lombok | 1.18.30 | ä»£ç ç®€åŒ– |
| Alibaba Cloud OSS | 3.17.1 | å¯¹è±¡å­˜å‚¨ |
| Maven | 3.8+ | é¡¹ç›®æ„å»º |

### æ¶æ„è®¾è®¡

ç³»ç»Ÿé‡‡ç”¨ **DDD + COLA å››å±‚æ¶æ„**ï¼Œä»¥é¢†åŸŸæ¨¡å‹ä¸ºæ ¸å¿ƒç»„ç»‡ä»£ç ï¼Œå„å±‚èŒè´£æ˜ç¡®ï¼Œä¾¿äºç»´æŠ¤å’Œæ‰©å±•ï¼š

1. **Interface å±‚ï¼ˆæ¥å£å±‚ï¼‰**ï¼šä½äº `com.crazydream.interfaces`ï¼Œå¯¹å¤–æš´éœ² REST APIï¼ˆv2ï¼š`/api/v2/*`ï¼‰ï¼Œè´Ÿè´£è¯·æ±‚é€‚é…ä¸ DTO ç»„è£…
2. **Application å±‚ï¼ˆåº”ç”¨å±‚ï¼‰**ï¼šä½äº `com.crazydream.application`ï¼Œè´Ÿè´£ç¼–æ’ç”¨ä¾‹æµç¨‹ã€äº‹åŠ¡æ§åˆ¶ï¼Œä¸ç›´æ¥ä¾èµ–åŸºç¡€è®¾æ–½
3. **Domain å±‚ï¼ˆé¢†åŸŸå±‚ï¼‰**ï¼šä½äº `com.crazydream.domain`ï¼ŒåŒ…å«èšåˆæ ¹ã€å®ä½“ã€å€¼å¯¹è±¡ã€é¢†åŸŸæœåŠ¡ç­‰ï¼Œæ‰¿è½½æ ¸å¿ƒä¸šåŠ¡è§„åˆ™
4. **Infrastructure å±‚ï¼ˆåŸºç¡€è®¾æ–½å±‚ï¼‰**ï¼šä½äº `com.crazydream.infrastructure`ï¼Œå®ç° Repositoryã€æ•°æ®æŒä¹…åŒ–ä¸å¤–éƒ¨ç³»ç»Ÿï¼ˆå¦‚ OSSï¼‰çš„é€‚é…
5. **æ”¯æ’‘æ¨¡å—**ï¼š`config`ã€`security`ã€`common`ã€`utils` æä¾›é…ç½®ã€å®‰å…¨ã€å…¬å…±æ¨¡å‹å’Œé€šç”¨å·¥å…·æ”¯æŒ

### é¡¹ç›®ç»“æ„

```
crazydream/
â”œâ”€â”€ src/main/java/com/crazydream/    # Javaæºä»£ç 
â”‚   â”œâ”€â”€ CrazydreamApplication.java   # åº”ç”¨å¯åŠ¨ç±»
â”‚   â”œâ”€â”€ interfaces/                  # Interfaceå±‚ï¼šREST Controllerï¼ˆ/api/v2/*ï¼‰
â”‚   â”œâ”€â”€ application/                 # Applicationå±‚ï¼šç”¨ä¾‹ç¼–æ’ã€DTO
â”‚   â”œâ”€â”€ domain/                      # Domainå±‚ï¼šé¢†åŸŸæ¨¡å‹ä¸é¢†åŸŸæœåŠ¡
â”‚   â”œâ”€â”€ infrastructure/              # Infrastructureå±‚ï¼šæŒä¹…åŒ–ä¸å¤–éƒ¨ç³»ç»Ÿé€‚é…
â”‚   â”œâ”€â”€ config/                      # Spring & Webé…ç½®
â”‚   â”œâ”€â”€ security/                    # å®‰å…¨ä¸è®¤è¯
â”‚   â”œâ”€â”€ common/                      # å…¬å…±è¿”å›ä½“ç­‰é€šç”¨ç±»
â”‚   â””â”€â”€ utils/                       # å·¥å…·æ¨¡å—
â”œâ”€â”€ tests/                           # æµ‹è¯•è„šæœ¬ç›®å½•
â”‚   â”œâ”€â”€ api_tests/                   # APIé›†æˆæµ‹è¯•
â”‚   â””â”€â”€ performance_tests/           # æ€§èƒ½å’Œè´Ÿè½½æµ‹è¯•
â”œâ”€â”€ docs/                            # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ api_documentation/           # APIæ–‡æ¡£
â”‚   â”œâ”€â”€ technical_reports/           # æŠ€æœ¯æŠ¥å‘Š
â”‚   â””â”€â”€ archived_reports/            # å†å²å½’æ¡£æŠ¥å‘Š
â”œâ”€â”€ openspec/                        # OpenSpecææ¡ˆç®¡ç†
â”œâ”€â”€ README.md                        # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ DEPLOYMENT.md                    # éƒ¨ç½²æ–‡æ¡£
â””â”€â”€ pom.xml                          # Mavené…ç½®
```

## å®‰è£…æ­¥éª¤

### å‰ææ¡ä»¶

- JDK 17+ å·²å®‰è£…
- MySQL 8.0+ å·²å®‰è£…å¹¶è¿è¡Œ
- Maven 3.8+ å·²å®‰è£…
- Git å·²å®‰è£…ï¼ˆå¯é€‰ï¼‰

### å®‰è£…è¿‡ç¨‹

1. **å…‹éš†é¡¹ç›®**

   ```bash
   git clone https://github.com/your-username/crazydream.git
   cd crazydream
   ```

2. **é…ç½®æ•°æ®åº“**

   - åˆ›å»ºMySQLæ•°æ®åº“ï¼š
     ```sql
     CREATE DATABASE crazydream CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
     ```

   - ä¿®æ”¹æ•°æ®åº“é…ç½®æ–‡ä»¶ `src/main/resources/application.yml`ï¼š
     ```yaml
     spring:
       datasource:
         url: jdbc:mysql://localhost:3306/crazydream?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=Asia/Shanghai
         username: your-username
         password: your-password
     ```

3. **é…ç½®é˜¿é‡Œäº‘OSSï¼ˆå¯é€‰ï¼‰**

   - å¦‚éœ€ä½¿ç”¨æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼Œä¿®æ”¹é˜¿é‡Œäº‘OSSé…ç½®ï¼ˆä½äº `application.yml` ä¸­çš„ `aliyun.oss` èŠ‚ç‚¹ï¼‰ï¼š
     ```yaml
     aliyun:
       oss:
         endpoint: your-endpoint
         access-key-id: your-access-key-id
         access-key-secret: your-access-key-secret
         bucket-name: your-bucket-name
         domain: your-bucket-domain
     ```

4. **æ„å»ºé¡¹ç›®**

   ```bash
   mvn clean install
   ```

5. **è¿è¡Œé¡¹ç›®**

   ```bash
   mvn spring-boot:run
   ```

   æˆ–ä½¿ç”¨jaråŒ…è¿è¡Œï¼š
   ```bash
   java -jar target/crazydream-0.0.1-SNAPSHOT.jar
   ```

6. **éªŒè¯æœåŠ¡**

   æœåŠ¡å¯åŠ¨åï¼Œè®¿é—®ä»¥ä¸‹URLéªŒè¯æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œï¼š
   ```
   http://localhost:8080/api
   ```

## ä½¿ç”¨æŒ‡å—

### APIæ–‡æ¡£

ç³»ç»Ÿæä¾›äº†å®Œæ•´çš„APIæ–‡æ¡£ï¼ŒåŒ…å«æ‰€æœ‰æ¥å£çš„è¯¦ç»†ä¿¡æ¯ï¼š

- æŸ¥çœ‹ `api-documentation.md` æ–‡ä»¶è·å–å®Œæ•´APIæ–‡æ¡£
- APIæ ¹è·¯å¾„ï¼šä¸šåŠ¡æ¥å£ `http://localhost:8080/api/v2`ï¼Œè®¤è¯æ¥å£ `http://localhost:8080/api/auth/*`
- è®¤è¯æ–¹å¼ï¼šJWTä»¤ç‰Œï¼Œè¯·æ±‚å¤´ä¸­æ·»åŠ  `Authorization: Bearer {token}`

### ä¸»è¦APIä½¿ç”¨ç¤ºä¾‹

1. **ç”¨æˆ·æ³¨å†Œ**

   ```bash
   curl -X POST http://localhost:8080/api/auth/register \
        -H "Content-Type: application/json" \
        -d '{"email":"user@example.com","password":"password123","nickName":"ç”¨æˆ·æ˜µç§°"}'
   ```

2. **ç”¨æˆ·ç™»å½•**

   ```bash
   curl -X POST http://localhost:8080/api/auth/login \
        -H "Content-Type: application/json" \
        -d '{"email":"user@example.com","password":"password123"}'
   ```

3. **åˆ›å»ºç›®æ ‡**

   ```bash
   curl -X POST http://localhost:8080/api/v2/goals \
        -H "Content-Type: application/json" \
        -H "Authorization: Bearer {token}" \
        -d '{"title":"å­¦ä¹ Spring Boot","description":"æŒæ¡Spring Bootæ¡†æ¶","categoryId":1,"priority":"high","status":"in_progress","startDate":"2025-12-01","endDate":"2025-12-31","icon":"ğŸ“š"}'
   ```

4. **è·å–æ‰€æœ‰ç›®æ ‡**

   ```bash
   curl -X GET http://localhost:8080/api/v2/goals \
        -H "Authorization: Bearer {token}"
   ```

### æµ‹è¯•

ç³»ç»Ÿæä¾›äº†APIæµ‹è¯•è„šæœ¬ï¼Œå¯ç”¨äºéªŒè¯APIåŠŸèƒ½ï¼š

```bash
python3 api_test.py
```

æµ‹è¯•ç»“æœå°†è¾“å‡ºåˆ°æ§åˆ¶å°ï¼Œå¹¶ç”ŸæˆJSONæ ¼å¼çš„æµ‹è¯•æŠ¥å‘Š `api_test_report.json`ã€‚

## é…ç½®è¯´æ˜

### åº”ç”¨é…ç½®

ä¸»è¦é…ç½®æ–‡ä»¶ï¼š`src/main/resources/application.yml`ï¼ˆä»¥åŠ `application-dev.yml`ã€`application-test.yml`ã€`application-prod.yml` ç­‰ç¯å¢ƒé…ç½®ï¼‰

| é…ç½®é¡¹ | æè¿° | é»˜è®¤å€¼ |
|-------|------|-------|
| server.port | æœåŠ¡ç«¯å£ | 8080 |
| server.servlet.context-path | ä¸Šä¸‹æ–‡è·¯å¾„ | / ï¼ˆæœªæ˜¾å¼é…ç½®æ—¶ä¸ºæ ¹è·¯å¾„ï¼‰ |
| spring.datasource.* | æ•°æ®åº“é…ç½® | - |
| mybatis.mapper-locations | Mapperæ–‡ä»¶ä½ç½® | classpath:mapper/*.xml |
| jwt.secret | JWTå¯†é’¥ | è‡ªåŠ¨ç”Ÿæˆ |
| jwt.expiration | JWTè¿‡æœŸæ—¶é—´ | 86400000 (1å¤©) |
| aliyun.oss.* | é˜¿é‡Œäº‘OSSé…ç½® | - |
| spring.servlet.multipart.max-file-size | æœ€å¤§æ–‡ä»¶å¤§å° | 10MB |

### ç¯å¢ƒå˜é‡

æ”¯æŒé€šè¿‡ç¯å¢ƒå˜é‡è¦†ç›–é…ç½®æ–‡ä»¶ä¸­çš„å€¼ï¼Œä¾‹å¦‚ï¼š

```bash
SERVER_PORT=9090 DB_USERNAME=admin mvn spring-boot:run
```

## å¼€å‘ä¸è´¡çŒ®

### å¼€å‘æµç¨‹

1. Forké¡¹ç›®ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ï¼š`git checkout -b feature/your-feature`
3. æäº¤æ›´æ”¹ï¼š`git commit -am 'Add some feature'`
4. æ¨é€åˆ°åˆ†æ”¯ï¼š`git push origin feature/your-feature`
5. æäº¤Pull Request

### ä»£ç è§„èŒƒ

- éµå¾ªJavaç¼–ç è§„èŒƒ
- ä½¿ç”¨Lombokç®€åŒ–ä»£ç 
- æ·»åŠ é€‚å½“çš„æ³¨é‡Š
- ç¼–å†™å•å…ƒæµ‹è¯•

### æ„å»ºä¸æµ‹è¯•

```bash
# æ„å»ºé¡¹ç›®
mvn clean install

# è¿è¡Œå•å…ƒæµ‹è¯•
mvn test

# è¿è¡ŒAPIæµ‹è¯•
python3 api_test.py
```

## å®‰å…¨è€ƒè™‘

- ä½¿ç”¨JWTè¿›è¡Œèº«ä»½è®¤è¯
- å¯†ç åŠ å¯†å­˜å‚¨
- æƒé™æ§åˆ¶å’Œè®¿é—®é™åˆ¶
- è¾“å…¥å‚æ•°éªŒè¯
- é˜²æ­¢SQLæ³¨å…¥
- é˜²æ­¢è·¨ç«™è„šæœ¬æ”»å‡»

## æ–‡æ¡£ä¸æµ‹è¯•

### æµ‹è¯•è„šæœ¬
é¡¹ç›®åŒ…å«å®Œæ•´çš„æµ‹è¯•å¥—ä»¶ï¼Œä½äº `tests/` ç›®å½•ï¼š

- **APIæµ‹è¯•**: `tests/api_tests/` - åŒ…å«APIé›†æˆæµ‹è¯•å’Œå¾®ä¿¡ç™»å½•æµ‹è¯•
- **æ€§èƒ½æµ‹è¯•**: `tests/performance_tests/` - åŒ…å«æ€§èƒ½å’Œè´Ÿè½½æµ‹è¯•è„šæœ¬

è¯¦è§ï¼š[tests/README.md](tests/README.md)

### æŠ€æœ¯æ–‡æ¡£
å®Œæ•´çš„æŠ€æœ¯æ–‡æ¡£å’ŒAPIæ–‡æ¡£ä½äº `docs/` ç›®å½•ï¼š

- **APIæ–‡æ¡£**: `docs/api_documentation/` - å®Œæ•´çš„APIæ¥å£è¯´æ˜
  - [APIæ–‡æ¡£](docs/api_documentation/api-documentation.md) - 42KBå®Œæ•´APIæ–‡æ¡£
  - [å¾®ä¿¡ç™»å½•API](docs/api_documentation/WECHAT_LOGIN_API.md) - å¾®ä¿¡ä¸€é”®ç™»å½•æ¥å£è¯´æ˜
- **æŠ€æœ¯æŠ¥å‘Š**: `docs/technical_reports/` - DDDæ¶æ„æ¼”è¿›æŠ¥å‘Š
- **å†å²æŠ¥å‘Š**: `docs/archived_reports/` - é—®é¢˜ä¿®å¤å’Œå†å²è®°å½•

è¯¦è§ï¼š[docs/README.md](docs/README.md)

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## è”ç³»æ–¹å¼

- é¡¹ç›®åœ°å€ï¼šhttps://github.com/your-username/crazydream
- é—®é¢˜åé¦ˆï¼šhttps://github.com/your-username/crazydream/issues

## æ›´æ–°æ—¥å¿—

### v0.0.1-SNAPSHOT (2025-12-10)

- åˆå§‹ç‰ˆæœ¬å‘å¸ƒ
- å®ç°ç”¨æˆ·ç®¡ç†åŠŸèƒ½
- å®ç°ç›®æ ‡å’Œå­ç›®æ ‡ç®¡ç†
- å®ç°åˆ†ç±»ç®¡ç†
- å®ç°æˆå°±ç³»ç»Ÿ
- å®ç°æ•°æ®ç»Ÿè®¡åŠŸèƒ½

---

**æ„Ÿè°¢ä½¿ç”¨ CrazyDream äººç”Ÿè®¡åˆ’æ¸…å•åç«¯æœåŠ¡ï¼** ğŸš€